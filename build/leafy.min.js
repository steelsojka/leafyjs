/**
 * leafy.js v0.1.5 by Steven Sojka
 * https://github.com/steelsojka/leafyjs.git
 * License: MIT
 */
!function(a){"use strict";function b(a,b,c){for(var d=0,e=b.length;e>d;d++){var f=b[d],g=f.getListeners();if(g[a])for(var h=0,i=g[a].length;i>h;h++)g[a][h].apply(f,c)}}function c(a,c,d,e){var f=e[0],g=f instanceof s?f:new s(a,f,c),h=q[c];if(f=g.getEventName(),g.transformValues.apply(g,e.slice(1)),e[0]=g,b(f,[a],e),g.isPropagationStopped()||c!==m&&c!==n)c===p&&b(f,d,e);else{e=[g].concat(g.getValues());for(var i=0,j=d.length;j>i;i++)d[i][h].apply(d[i],e)}return g}function d(a,b,c){a=c?a.slice(0):a;var d=i(a,b);return-1!==d&&a.splice(d,1),a}function e(a,b){var c=h(arguments,2);return function(){b.apply(a,c.concat(h(arguments)))}}function f(a,b){return g(b,function(b,c){a[c]=b}),a}function g(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c)}function h(a,b){return l.call(a,b||0)}function i(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function j(a,b){return function(){if(!a.isDestroyed())return b.apply(a,arguments);throw new Error("Leafy: Can not call method on destroyed node")}}var k=Array.prototype,l=k.slice,m="up",n="down",o="flat",p="sibling",q={up:"emitUp",down:"emitDown"},r=function(){var a=[],b=[],f={},i=!1;this.isDestroyed=function(){return i},this.getListeners=function(){return f},this.getParentLinks=function(){return b},this.getChildLinks=function(){return a},this.on=j(this,function(a,b){return f[a]=f[a]||[],f[a].push(b),e(this,function(){this.off(a,b)})}),this.once=j(this,function(a,b){var c=this.on(a,e(this,function(){b.apply(this,arguments),c()}));return c}),this.off=j(this,function(a,b){f[a]&&(b?(d(f[a],b),f[a].length<1&&delete f[a]):delete f[a])}),this.emit=j(this,function(){c(this,o,[],h(arguments))}),this.emitUp=j(this,function(){c(this,m,b,h(arguments))}),this.emitDown=j(this,function(){c(this,n,a,h(arguments))}),this.emitSibling=j(this,function(){for(var a=[],e=0,f=b.length;f>e;e++)a=a.concat(d(b[e].getChildLinks(),this,!0));c(this,p,a,h(arguments))}),this.linkChild=j(this,function(b){return a.push(b),b.getParentLinks().push(this),b}),this.linkParent=j(this,function(a){return b.push(a),a.getChildLinks().push(this),a}),this.unlinkChild=j(this,function(b){return d(a,b),d(b.getParentLinks(),this),b}),this.unlinkParent=j(this,function(a){return d(b,a),d(a.getChildLinks(),this),a}),this.destroy=j(this,function(){for(var c=0,d=b.length;d>c;c++)this.unlinkParent(b[c]);for(c=0,d=a.length;d>c;c++){var e=a[c],h=e.getParentLinks();1===h.length&&h[0]===this?e.destroy():this.unlinkChild(e)}g(f,function(a,b){delete f[b]}),i=!0})};r.mixin=function(a){f(a,new r)},r.create=function(){return new r},r.UP=m,r.DOWN=n,r.FLAT=o,r.SIBLING=p;var s=function(a,b,c){var d=!1,e=[];this.isPropagationStopped=function(){return d},this.stopPropagation=function(){d=!0},this.getDirection=function(){return c},this.getEventName=function(){return b},this.getTarget=function(){return a},this.transformValues=function(){e=h(arguments)},this.getValues=function(){return e}};"undefined"!=typeof module&&module.exports?module.exports=r:a.Leafy=r}(this);
//# sourceMappingURL=leafy.map